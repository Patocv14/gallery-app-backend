generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("POSTGRES_URL")
}

model User {
    id        String   @id @default(uuid())
    userName  String
    photo_url String
    albumsId  String[]
    email     String   @unique
    role      String   @default("user")
    password  String
    Album     Album[]
    Photo     Photo[]
}

model Album {
    id              String   @id @default(uuid())
    name            String
    stateId         String
    photosId        String[]
    ownerId         String
    collaboratorsId String[]
    state           State    @relation(fields: [stateId], references: [id])
    user            User     @relation(fields: [ownerId], references: [id])
    Photo           Photo[]
}

model State {
    id       String   @id @default(uuid())
    name     String
    img_url  String
    albumsId String[]
    Album    Album[]
}

model Country {
    id       String   @id @default(uuid())
    name     String
    img_url  String
    statesId String[]
}

model Photo {
    id      String @id @default(uuid())
    img_url String
    albumId String
    ownerId String
    likes   Int
    views   Int
    user    User   @relation(fields: [ownerId], references: [id])
    album   Album  @relation(fields: [albumId], references: [id])
}

model Analytics {
    id       String   @id @default(uuid())
    month    String
    albumsId String[]
    photosId String[]
    views    Int
    likes    Int
}
